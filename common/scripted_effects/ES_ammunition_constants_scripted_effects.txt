ammunition_init_constants = {
	init_battalions_ammunition_consumptions = yes

	set_variable = { global.ammunition_consumption_offensive_factor_var = 1.4 }
	set_variable = { global.ammunition_consumption_defensive_factor_var = 0.6 }

	set_variable = { global.ammunition_field_storage_for_consumption_days = 7 }

	set_variable = { global.ammunition_next_update_num_days_max_delay_country = 7 }
	set_variable = { global.ammunition_next_update_num_days_max_delay_army_leader = 28 }
}

init_ammunition_effects_linear_effects = {
	# Basic supply AI factors
	# Range: [0; 2]
	clear_array = global.ammunition_consumption_supply_factor_effects_ai_focus_aggressive_factor_target
	clear_array = global.ammunition_consumption_supply_factor_effects_ai_focus_aggressive_factor_value

	add_to_array = { global.ammunition_consumption_supply_factor_effects_ai_focus_aggressive_factor_target = 0 }
	add_to_array = { global.ammunition_consumption_supply_factor_effects_ai_focus_aggressive_factor_value = -0.5 }

	add_to_array = { global.ammunition_consumption_supply_factor_effects_ai_focus_aggressive_factor_target = 0.5 }
	add_to_array = { global.ammunition_consumption_supply_factor_effects_ai_focus_aggressive_factor_value = -0.2 }

	add_to_array = { global.ammunition_consumption_supply_factor_effects_ai_focus_aggressive_factor_target = 1 }
	add_to_array = { global.ammunition_consumption_supply_factor_effects_ai_focus_aggressive_factor_value = 0 }

	add_to_array = { global.ammunition_consumption_supply_factor_effects_ai_focus_aggressive_factor_target = 1.5 }
	add_to_array = { global.ammunition_consumption_supply_factor_effects_ai_focus_aggressive_factor_value = 0.15 }

	add_to_array = { global.ammunition_consumption_supply_factor_effects_ai_focus_aggressive_factor_target = 2 }
	add_to_array = { global.ammunition_consumption_supply_factor_effects_ai_focus_aggressive_factor_value = 0.3 }

	# Relative supply AI factors
	# Formula: target = (Offensive - Defensive) / (Offensive + Defensive)
	# Range: [-1; 1]	
	clear_array = global.ammunition_consumption_relative_off_to_def_supply_factor_effects_ai_focus_aggressive_factor_target
	clear_array = global.ammunition_consumption_relative_off_to_def_supply_factor_effects_ai_focus_aggressive_factor_value

	add_to_array = { global.ammunition_consumption_relative_off_to_def_supply_factor_effects_ai_focus_aggressive_factor_target = 0 }
	add_to_array = { global.ammunition_consumption_relative_off_to_def_supply_factor_effects_ai_focus_aggressive_factor_value = -0.5 }

	add_to_array = { global.ammunition_consumption_relative_off_to_def_supply_factor_effects_ai_focus_aggressive_factor_target = 0.5 }
	add_to_array = { global.ammunition_consumption_relative_off_to_def_supply_factor_effects_ai_focus_aggressive_factor_value = -0.25 }	

	add_to_array = { global.ammunition_consumption_relative_off_to_def_supply_factor_effects_ai_focus_aggressive_factor_target = 1 }
	add_to_array = { global.ammunition_consumption_relative_off_to_def_supply_factor_effects_ai_focus_aggressive_factor_value = 0 }

	add_to_array = { global.ammunition_consumption_relative_off_to_def_supply_factor_effects_ai_focus_aggressive_factor_target = 1.5 }
	add_to_array = { global.ammunition_consumption_relative_off_to_def_supply_factor_effects_ai_focus_aggressive_factor_value = 0.25 }

	add_to_array = { global.ammunition_consumption_relative_off_to_def_supply_factor_effects_ai_focus_aggressive_factor_target = 2 }
	add_to_array = { global.ammunition_consumption_relative_off_to_def_supply_factor_effects_ai_focus_aggressive_factor_value = 0.5 }
	
	# Offensive supply AI factors
	# Range: [0; 2]
	clear_array = global.ammunition_consumption_offensive_supply_factor_effects_army_attack_factor_target
	clear_array = global.ammunition_consumption_offensive_supply_factor_effects_army_attack_factor_value

	add_to_array = { global.ammunition_consumption_offensive_supply_factor_effects_army_attack_factor_target = 0 }
	add_to_array = { global.ammunition_consumption_offensive_supply_factor_effects_army_attack_factor_value = -0.5 }

	add_to_array = { global.ammunition_consumption_offensive_supply_factor_effects_army_attack_factor_target = 0.5 }
	add_to_array = { global.ammunition_consumption_offensive_supply_factor_effects_army_attack_factor_value = -0.25 }	

	add_to_array = { global.ammunition_consumption_offensive_supply_factor_effects_army_attack_factor_target = 1 }
	add_to_array = { global.ammunition_consumption_offensive_supply_factor_effects_army_attack_factor_value = 0 }

	add_to_array = { global.ammunition_consumption_offensive_supply_factor_effects_army_attack_factor_target = 1.5 }
	add_to_array = { global.ammunition_consumption_offensive_supply_factor_effects_army_attack_factor_value = 0.25 }

	add_to_array = { global.ammunition_consumption_offensive_supply_factor_effects_army_attack_factor_target = 2 }
	add_to_array = { global.ammunition_consumption_offensive_supply_factor_effects_army_attack_factor_value = 0.5 }
	
	# Defensive supply AI factors
	# Range: [0; 2]
	clear_array = global.ammunition_result_defensive_supply_factor_effects_army_defence_factor_target
	clear_array = global.ammunition_result_defensive_supply_factor_effects_army_defence_factor_value

	add_to_array = { global.ammunition_result_defensive_supply_factor_effects_army_defence_factor_target = 0 }
	add_to_array = { global.ammunition_result_defensive_supply_factor_effects_army_defence_factor_value = -0.5 }

	add_to_array = { global.ammunition_result_defensive_supply_factor_effects_army_defence_factor_target = 0.5 }
	add_to_array = { global.ammunition_result_defensive_supply_factor_effects_army_defence_factor_value = -0.25 }	

	add_to_array = { global.ammunition_result_defensive_supply_factor_effects_army_defence_factor_target = 1 }
	add_to_array = { global.ammunition_result_defensive_supply_factor_effects_army_defence_factor_value = 0 }

	add_to_array = { global.ammunition_consumption_defensive_supply_factor_effects_army_defence_factor_target = 1.5 }
	add_to_array = { global.ammunition_consumption_defensive_supply_factor_effects_army_defence_factor_value = 0.25 }

	add_to_array = { global.ammunition_consumption_defensive_supply_factor_effects_army_defence_factor_target = 2 }
	add_to_array = { global.ammunition_consumption_defensive_supply_factor_effects_army_defence_factor_value = 0.5 }
}

init_battalions_ammunition_consumptions = {
	set_variable = { global.battalion_ammunition_consumption_k_infantry = 0.005 }
	set_variable = { global.battalion_ammunition_consumption_k_marine = 0.005 }
	set_variable = { global.battalion_ammunition_consumption_k_mountaineers = 0.005 }
	set_variable = { global.battalion_ammunition_consumption_k_paratrooper_heli = 0.005 }
	set_variable = { global.battalion_ammunition_consumption_k_paratrooper = 0.005 }
	set_variable = { global.battalion_ammunition_consumption_k_opolchenie = 0.004 }
	set_variable = { global.battalion_ammunition_consumption_k_prisoners = 0.005 }
	set_variable = { global.battalion_ammunition_consumption_k_PMC_wagner = 0.008 }
	set_variable = { global.battalion_ammunition_consumption_k_spetsnaz = 0.005 }
	set_variable = { global.battalion_ammunition_consumption_k_border_guard = 0.004 }
	set_variable = { global.battalion_ammunition_consumption_k_artillery = 0.08 }
	set_variable = { global.battalion_ammunition_consumption_k_sp_art = 0.08 }
	set_variable = { global.battalion_ammunition_consumption_k_sp_heavy_art = 0.08 }
	set_variable = { global.battalion_ammunition_consumption_k_towed_art = 0.08 }
	set_variable = { global.battalion_ammunition_consumption_k_TOS = 0.1 }
	set_variable = { global.battalion_ammunition_consumption_k_MRLS = 0.08 }
	set_variable = { global.battalion_ammunition_consumption_k_apc = 0.001 }
	set_variable = { global.battalion_ammunition_consumption_k_ifv_sov = 0.003 }
	set_variable = { global.battalion_ammunition_consumption_k_ifv_usa = 0.003 }
	set_variable = { global.battalion_ammunition_consumption_k_ifv_ger = 0.003 }
	set_variable = { global.battalion_ammunition_consumption_k_ifv_eng = 0.003 }
	set_variable = { global.battalion_ammunition_consumption_k_ifv_fra = 0.003 }
	set_variable = { global.battalion_ammunition_consumption_k_ifv_ita = 0.003 }
	set_variable = { global.battalion_ammunition_consumption_k_ifv_swe = 0.003 }
	set_variable = { global.battalion_ammunition_consumption_k_afv_sov = 0.003 }
	set_variable = { global.battalion_ammunition_consumption_k_bmpt = 0.003 }
	set_variable = { global.battalion_ammunition_consumption_k_tank_sov = 0.005 }
	set_variable = { global.battalion_ammunition_consumption_k_tank_usa = 0.005 }
	set_variable = { global.battalion_ammunition_consumption_k_tank_ger = 0.005 }
	set_variable = { global.battalion_ammunition_consumption_k_tank_eng = 0.005 }
	set_variable = { global.battalion_ammunition_consumption_k_tank_fra = 0.005 }
	set_variable = { global.battalion_ammunition_consumption_k_tank_ita = 0.005 }
}

ammunition_init_country_values = {	
    set_variable = { ammunition_produce_factor = 0.7 }
    set_variable = { ammunition_recovery_factor = 0.3 }

	set_variable = { ammunition_consumption_supply_factor_var = 1 }
	set_variable = { ammunition_consumption_offensive_supply_factor_var = 1 }
	set_variable = { ammunition_consumption_defensive_supply_factor_var = 1 }
}

ammunition_copy_constants_to_country = {
	copy_battalions_ammunition_consumptions_to_country = yes
	
	set_variable = { ammunition_consumption_offensive_factor_var = global.ammunition_consumption_offensive_factor_var }
	set_variable = { ammunition_consumption_defensive_factor_var = global.ammunition_consumption_defensive_factor_var }

	set_variable = { ammunition_field_storage_for_consumption_days = global.ammunition_field_storage_for_consumption_days }
}

copy_battalions_ammunition_consumptions_to_country = {	
	set_variable = { battalion_ammunition_consumption_k_infantry = global.battalion_ammunition_consumption_k_infantry }
	set_variable = { battalion_ammunition_consumption_k_marine = global.battalion_ammunition_consumption_k_marine }
	set_variable = { battalion_ammunition_consumption_k_mountaineers = global.battalion_ammunition_consumption_k_mountaineers }
	set_variable = { battalion_ammunition_consumption_k_paratrooper_heli = global.battalion_ammunition_consumption_k_paratrooper_heli }
	set_variable = { battalion_ammunition_consumption_k_paratrooper = global.battalion_ammunition_consumption_k_paratrooper }
	set_variable = { battalion_ammunition_consumption_k_opolchenie = global.battalion_ammunition_consumption_k_opolchenie }
	set_variable = { battalion_ammunition_consumption_k_prisoners = global.battalion_ammunition_consumption_k_prisoners }
	set_variable = { battalion_ammunition_consumption_k_PMC_wagner = global.battalion_ammunition_consumption_k_PMC_wagner }
	set_variable = { battalion_ammunition_consumption_k_spetsnaz = global.battalion_ammunition_consumption_k_spetsnaz }
	set_variable = { battalion_ammunition_consumption_k_border_guard = global.battalion_ammunition_consumption_k_border_guard }
	set_variable = { battalion_ammunition_consumption_k_artillery = global.battalion_ammunition_consumption_k_artillery }
	set_variable = { battalion_ammunition_consumption_k_sp_art = global.battalion_ammunition_consumption_k_sp_art }
	set_variable = { battalion_ammunition_consumption_k_sp_heavy_art = global.battalion_ammunition_consumption_k_sp_heavy_art }
	set_variable = { battalion_ammunition_consumption_k_towed_art = global.battalion_ammunition_consumption_k_towed_art }
	set_variable = { battalion_ammunition_consumption_k_TOS = global.battalion_ammunition_consumption_k_TOS }
	set_variable = { battalion_ammunition_consumption_k_MRLS = global.battalion_ammunition_consumption_k_MRLS }
	set_variable = { battalion_ammunition_consumption_k_apc = global.battalion_ammunition_consumption_k_apc }
	set_variable = { battalion_ammunition_consumption_k_ifv_sov = global.battalion_ammunition_consumption_k_ifv_sov }
	set_variable = { battalion_ammunition_consumption_k_ifv_usa = global.battalion_ammunition_consumption_k_ifv_usa }
	set_variable = { battalion_ammunition_consumption_k_ifv_ger = global.battalion_ammunition_consumption_k_ifv_ger }
	set_variable = { battalion_ammunition_consumption_k_ifv_eng = global.battalion_ammunition_consumption_k_ifv_eng }
	set_variable = { battalion_ammunition_consumption_k_ifv_fra = global.battalion_ammunition_consumption_k_ifv_fra }
	set_variable = { battalion_ammunition_consumption_k_ifv_ita = global.battalion_ammunition_consumption_k_ifv_ita }
	set_variable = { battalion_ammunition_consumption_k_ifv_swe = global.battalion_ammunition_consumption_k_ifv_swe }
	set_variable = { battalion_ammunition_consumption_k_afv_sov = global.battalion_ammunition_consumption_k_afv_sov }
	set_variable = { battalion_ammunition_consumption_k_bmpt = global.battalion_ammunition_consumption_k_bmpt }
	set_variable = { battalion_ammunition_consumption_k_tank_sov = global.battalion_ammunition_consumption_k_tank_sov }
	set_variable = { battalion_ammunition_consumption_k_tank_usa = global.battalion_ammunition_consumption_k_tank_usa }
	set_variable = { battalion_ammunition_consumption_k_tank_ger = global.battalion_ammunition_consumption_k_tank_ger }
	set_variable = { battalion_ammunition_consumption_k_tank_eng = global.battalion_ammunition_consumption_k_tank_eng }
	set_variable = { battalion_ammunition_consumption_k_tank_fra = global.battalion_ammunition_consumption_k_tank_fra }
	set_variable = { battalion_ammunition_consumption_k_tank_ita = global.battalion_ammunition_consumption_k_tank_ita }
}

