on_actions = {
	on_weekly_POL = {
		effect = {

			if = {
				limit = {
					POL = { 
						OR = {
							has_completed_focus = POL_Lviv_or_war
							has_country_flag = POL_counterrevolution_as_result_of_war
						}
						has_war_with = UKR
						NOT = { has_country_flag = POL_counterrevolution_as_result_of_war }
					}
					HUN = {
						has_war_with = UKR
					}

					108 = { 
						OR = {
							is_controlled_by = POL
							is_controlled_by = HUN
						}
					}
					135 = { 
						OR = {
							is_controlled_by = POL
							is_controlled_by = HUN
						}
					}
					157 = { 
						OR = {
							is_controlled_by = POL
							is_controlled_by = HUN
						}
					}

				}
				country_event = pol_f.7
				set_country_flag = POL_win_war_with_UKR
			}
		}
	}

	on_weekly_UKR = {
		effect = {
			if = {
				limit = {
					POL = { 
						OR = {
							has_completed_focus = POL_Lviv_or_war
							has_country_flag = POL_counterrevolution_as_result_of_war
						}
						has_war_with = UKR
						NOT = { has_country_flag = POL_win_war_with_UKR }
					}
					HUN = {
						has_war_with = UKR
					}
					157 = {
						is_controlled_by = UKR
					}
					85 = {
						is_controlled_by = UKR
					}
					58 = {
						is_controlled_by = UKR
					}
				}
				white_peace = POL
				white_peace = HUN
			}
		}
	}

	on_monthly_POL = {
		effect = {
			if = {
				limit = {
					POL = { 
						has_completed_focus = POL_Lviv_or_war
						has_war_with = UKR
						NOT = { has_country_flag = POL_win_war_with_UKR }
					}
					HUN = {
						has_war_with = UKR
					}
				}
				country_event = pol_socialism.1
				set_country_flag = POL_counterrevolution_as_result_of_war
			}
		}
	}
}
